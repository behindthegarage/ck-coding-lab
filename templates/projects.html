<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Projects - Club Kinawa Coding Lab</title>
    <link rel="stylesheet" href="/lab/static/css/style.css?v=5">
</head>
<body class="projects-page">
    <header class="app-header">
        <div class="logo">
            <a href="/lab">üéÆ Club Kinawa Coding Lab</a>
        </div>
        <div class="user-menu">
            <span id="username-display"></span><a href="/admin" id="admin-link" class="hidden btn-small" style="margin-right:10px">Admin</a>
            <button id="logout-btn" class="btn-small">Log Out</button>
        </div>
    </header>
    
    <main class="projects-container">
        <div class="projects-header">
            <h1>My Projects</h1>
            <button id="new-project-btn" class="btn-primary">+ New Project</button>
        </div>
        
        <div id="projects-list" class="projects-grid">
            <!-- Projects loaded dynamically -->
            <div class="loading">Loading your projects...</div>
        </div>
    </main>
    
    <!-- New Project Modal -->
    <div id="new-project-modal" class="modal hidden">
        <div class="modal-content">
            <h2>Create New Project</h2>
            <div class="form-group">
                <label for="project-name">Project Name</label>
                <input type="text" id="project-name" placeholder="My Awesome Game" maxlength="100">
            </div>
            <div class="form-group">
                <label for="project-desc">Description (optional)</label>
                <textarea id="project-desc" placeholder="What do you want to build?" maxlength="500"></textarea>
            </div>
            <div class="form-group">
                <label>Project Type</label>
                <div class="language-picker">
                    <button type="button" class="lang-pick active" data-lang="p5js">
                        <span class="lang-icon">üé®</span>
                        <span class="lang-name">p5.js</span>
                        <span class="lang-desc">Games & animations</span>
                    </button>
                    <button type="button" class="lang-pick" data-lang="html">
                        <span class="lang-icon">üåê</span>
                        <span class="lang-name">HTML</span>
                        <span class="lang-desc">Websites & web games</span>
                    </button>
                </div>
            </div>
            <div class="modal-actions">
                <button id="cancel-project" class="btn-secondary">Cancel</button>
                <button id="create-project" class="btn-primary">Create</button>
            </div>
            <div id="project-error" class="error"></div>
        </div>
    </div>
    
    <script src="/lab/static/js/auth.js?v=2"></script>
    <script src="/lab/static/js/projects.js?v=4"></script>
</body>
</html>